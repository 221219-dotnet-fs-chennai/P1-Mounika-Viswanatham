<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Page</title>
    <style>
        p{
            background-image:url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ_bK7XvxmuU3LjHFOPVqhphYfVy14H8afzpA&usqp=CAU')
        }
        ul{
            background-color: aliceblue;
        }
        center{
            margin-top: -25px;
        }
    </style>
</head>
<body>
    <span style="padding-left:90%"><a href="login.html" id="j"><button type="menu">Logout</button></a>
        <a href="profile.html" id="j"><button type="menu">Back</button></a>
        
    <center><p style="font-family:serif ;font-size:50px;color:darkgreen">Hello Trainer</p>
        <span><h3>To view your profile Click</h3>
    <button type="submit"  id="vie" onclick="viewde()">View Profile</button>
    <button type="submit" id="vid" onclick="viewded()">View Education Details</button>
    <button type="submit" id="vskill" onclick="viewskill()">View Skills</button>
    <button type="submit" id="vcom" onclick="viewcomp()">View Company Details</button></center></span>
    <ul>

    </ul>
    
    <script>
           function viewde(){
            const vre= localStorage.getItem('EmailID');
            fetch(`https://localhost:7128/api/Trainer/FindTrainerByEmailID/${vre}`)
           
                .then(data=>{return data.json();})
                .then(response=>{
                    response.forEach(user =>{
                        const markup=`<li><h3>Personal details</h3>
                            Name        :${user.name} <br>
                            EmailId     :${user.emailID} <br>
                            Age         :${user.age}<br>
                            Gender      :${user.gender}<br>
                            Location    :${user.location}<br>
                            PhoneNumber :${user.phoneNumber}<br>
                           
                            </li>`;
                        
                        document.querySelector('ul').insertAdjacentHTML('beforeend',markup);
                    })
                })
            }
    </script>
    <script>

        function viewskill(){
            const vre= localStorage.getItem('EmailID');
            fetch(`https://localhost:7128/api/Skill/GetSkillById/${vre}`)
           
                .then(data=>{return data.json();})
                .then(
                    user =>{
                        const markup=`<li><h3>Skills details</h3>
                            skill1     :${user.skill1} <br>
                            skill2     :${user.skill2} <br>
                            skill3     :${user.skill3}<br>
                            
                            </li>`;
                        
                        document.querySelector('ul').insertAdjacentHTML('beforeend',markup);
                    })
                }
        
         
    </script>
    <script>
        function viewcomp(){
         const vre= localStorage.getItem('EmailID');
         fetch(`https://localhost:7128/api/Company/GetCompanyById/${vre}`)
        
             .then(data=>{return data.json();})
             .then(user =>{
                     const markup=`<li><h3>Company details</h3>
                         CompanyName        :${user.companyName} <br>
                         Experience    :${user.experience} <br>
                         
                         </li>`;
                     
                     document.querySelector('ul').insertAdjacentHTML('beforeend',markup);
                 })
            }
 </script>
    <script>
        function viewded(){
            const btn = document.getElementById("vid")
                btn.addEventListener("submit", (e) =>{
                  e.preventDefault()
                  
                })
            const vre= localStorage.getItem('EmailID');
            //fetch(`https://localhost:7128/api/Trainer/GetTrainer/${vre}`)
            //fetch(`https://localhost:7128/api/Trainer/GetTrainer/${vre}`)
            fetch(`https://localhost:7128/api/Education/GetEducationById/${vre}`)
                .then(data=>{return data.json();})
                .then(user =>{
                        const markup=`<li><h3>Education details</h3>
                            InstitutionName    :${user.institutionName} <br>
                            Degree             :${user.degree} <br>
                            Specialization     :${user.specialization}<br>
                            PassingYear     :${user.passingYear}<br>
                           
                           
                            </li>`;
                        
                        document.querySelector('ul').insertAdjacentHTML('beforeend',markup);
                    })
                }
        
         
        
    </script>
</body>
</html>